/*!
 * @credit-key/creditkey-js v1.1.5 - https://www.creditkey.com
 * MIT Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ck=e():t.ck=e()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(5)},function(t,e,n){var i=n(2),o=n(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};i(o,r);t.exports=o.locals||{}},function(t,e,n){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function c(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function d(t,e){for(var n={},i=[],o=0;o<t.length;o++){var r=t[o],d=e.base?r[0]+e.base:r[0],l=n[d]||0,s="".concat(d," ").concat(l);n[d]=l+1;var u=c(s),m={css:r[1],media:r[2],sourceMap:r[3]};-1!==u?(a[u].references++,a[u].updater(m)):a.push({identifier:s,updater:y(m,e),references:1}),i.push(s)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=n.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var a=r(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var s,u=(s=[],function(t,e){return s[t]=e,s.filter(Boolean).join("\n")});function m(t,e,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=u(e,o);else{var r=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var h=null,f=0;function y(t,e){var n,i,o;if(e.singleton){var r=f++;n=h||(h=l(e)),i=m.bind(null,n,r,!1),o=m.bind(null,n,r,!0)}else n=l(e),i=p.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=d(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var o=c(n[i]);a[o].references--}for(var r=d(t,e),l=0;l<n.length;l++){var s=c(n[l]);0===a[s].references&&(a[s].updater(),a.splice(s,1))}n=r}}}},function(t,e,n){(e=n(4)(!1)).push([t.i,'.creditkey{all:initial}.creditkey *{all:unset}.creditkey{z-index:50000;text-decoration:none !important;font-family:"Proxima Nova", "Helvetica Neue", Helvetica, Arial, sans-serif}.creditkey .modal-close{-webkit-touch-callout:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;-moz-appearance:none;-webkit-appearance:none;background-color:rgba(10,10,10,0.2);border:none;border-radius:9999px;cursor:pointer;pointer-events:auto;display:inline-block;flex-grow:0;flex-shrink:0;font-size:0;height:20px;max-height:20px;max-width:20px;min-height:20px;min-width:20px;outline:none;position:relative;vertical-align:top;width:20px}.creditkey .modal-close::before,.creditkey .modal-close::after{background-color:#fff;content:"";display:block;left:50%;position:absolute;top:50%;-webkit-transform:translateX(-50%) translateY(-50%) rotate(45deg);transform:translateX(-50%) translateY(-50%) rotate(45deg);-webkit-transform-origin:center center;transform-origin:center center}.creditkey .modal-close::before{height:2px;width:50%}.creditkey .modal-close::after{height:50%;width:2px}.creditkey .modal-close:hover,.creditkey .modal-close:focus{background-color:rgba(10,10,10,0.3)}.creditkey .modal-close:active{background-color:rgba(10,10,10,0.4)}.creditkey .is-small.modal-close{height:16px;max-height:16px;max-width:16px;min-height:16px;min-width:16px;width:16px}.creditkey .is-medium.modal-close{height:24px;max-height:24px;max-width:24px;min-height:24px;min-width:24px;width:24px}.creditkey .is-large.modal-close{height:32px;max-height:32px;max-width:32px;min-height:32px;min-width:32px;width:32px}.creditkey .modal,.creditkey .ck-modal,.creditkey .modal-background,.creditkey .ck-modal-background{bottom:0;left:0;position:absolute;right:0;top:0}.creditkey .modal,.creditkey .ck-modal{align-items:center;display:none;flex-direction:column;justify-content:center;overflow:hidden;position:fixed;z-index:50001}.creditkey .modal.is-active,.creditkey .is-active.ck-modal{display:flex}.creditkey .modal-background,.creditkey .ck-modal-background{background-color:rgba(10,10,10,0.86)}.creditkey .modal-content,.creditkey .ck-modal-content,.creditkey .ck-modal-card,.creditkey .modal-card,.creditkey .ck-modal-content,.creditkey .ck-modal-card{margin:0 20px;max-height:calc(100vh - 160px);overflow:auto;position:relative;width:100%}@media screen and (min-width: 769px){.creditkey .modal-content,.creditkey .ck-modal-content,.creditkey .ck-modal-card,.creditkey .modal-card,.creditkey .ck-modal-content,.creditkey .ck-modal-card{margin:0 auto;max-height:calc(100vh - 40px);width:650px}}.creditkey .modal-close{background:none;height:40px;position:fixed;right:20px;top:20px;width:40px}.creditkey .modal-card,.creditkey .ck-modal-content,.creditkey .ck-modal-card{display:flex;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden;-ms-overflow-y:visible}.creditkey .modal-card-head,.creditkey .modal-card-foot{align-items:center;background-color:#f5f5f5;display:flex;flex-shrink:0;justify-content:flex-start;padding:20px;position:relative}.creditkey .modal-card-head{border-bottom:1px solid #dbdbdb;border-top-left-radius:6px;border-top-right-radius:6px}.creditkey .modal-card-title{color:#363636;flex-grow:1;flex-shrink:0;font-size:1.5rem;line-height:1}.creditkey .modal-card-foot{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top:1px solid #dbdbdb}.creditkey .modal-card-foot .button:not(:last-child){margin-right:.5em}.creditkey .modal-card-body{-webkit-overflow-scrolling:touch;background-color:#fff;flex-grow:1;flex-shrink:1;overflow:auto;padding:20px}.creditkeya{text-decoration:none !important}.creditkey .button{background-color:#3D9CE5 !important;min-height:40px !important;border-width:0 !important;vertical-align:middle !important;text-decoration:none !important}.creditkey .ck-modal{margin:0 !important;padding-top:50px;max-width:100% !important;width:100% !important;visibility:visible !important;background:transparent !important;position:absolute;justify-content:normal}@media screen and (max-device-width: 480px){.creditkey .ck-modal{padding-top:0px !important}}.creditkey .ck-modal-background{position:fixed}.creditkey .ck-modal-content,.creditkey .ck-modal-card{min-height:-webkit-min-content !important;min-height:min-content !important;max-height:none;height:auto !important}@media screen and (min-width: 769px), print{.creditkey .ck-modal-content,.creditkey .ck-modal-card{min-height:-webkit-min-content !important;min-height:min-content !important;max-height:none;height:auto !important}}.creditkey .ck-modal-card{min-height:-webkit-min-content !important;min-height:min-content !important;max-height:none !important}.creditkey .ck-modal-content{overflow:hidden;-webkit-overflow-scrolling:touch;border-radius:5px;background-color:#fff;background-image:url("https://www.creditkey.com/app/assets/header/ck-nav-logo-d79f74bc03213d02a5ab4cd1c484cfcfb533c2abf5f05ee35cd67c5239693a28.svg");background-repeat:no-repeat;background-position:center;height:auto;min-height:-webkit-min-content;min-height:min-content;max-height:none}@media screen and (max-width: 1023px){.creditkey .ck-modal-content .ck-modal-content{height:100%;border-radius:0 !important}}.creditkey #creditkey-iframe{margin:auto;width:100%;border:none;height:inherit}.creditkey .payment-icon{display:inline-block !important;margin-right:5px !important;vertical-align:middle !important}.creditkey .terms{text-decoration:underline;color:#3D9CE5;cursor:pointer}.creditkey .terms:hover{text-decoration:none}.creditkey .pdp{padding:0 5px 0 0;font-size:16px !important;font-weight:bold}.creditkey .pdp-text{font-size:16px !important;font-weight:400}.creditkey .ck-offer{float:right;text-align:left}.creditkey .ck-logo-small{height:22px !important}.creditkey .ck-logo-medium{height:22px !important}.creditkey .ck-logo-large{height:22px !important}#creditkey-pdp-iframe{width:100% !important;max-height:70px !important}\n',""]),t.exports=e},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var o=(a=i,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(d," */")),r=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([o]).join("\n")}var a,c,d;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);i&&o[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),e.push(d))}},e}},function(t,e,n){"use strict";function i(t,e){return new Promise((function(n,i){t||i(new Error("URL parameter required")),e||i(new Error("Options parameter required")),fetch(t,e).then((function(t){return function(t){if(!t.ok)throw Error(t.statusText);return t}(t)})).then((function(t){return t.json()})).then((function(t){t.errors?i(t.errors):n(t)})).catch((function(t){return i(t)}))}))}n.r(e);var o="development",r="staging",a="production",c=function(t){return t===o?"http://localhost:9100":t===r?"https://staging.creditkey.com/app":t===a?"https://www.creditkey.com/app":t},d=function(t){return t===o?"http://localhost:3002":t===r?"https://staging-marketing.creditkey.com":t===a?"https://marketing.creditkey.com":t},l=function(t,e){var n=window.location.hostname;if(window.location.hostname.indexOf("localhost")>=0)return t(o);if(window.location.hostname.indexOf("staging")>=0||window.location.hostname.indexOf("dev")>=0)return t(r);if(e)return t(e);switch(n){case"creditkey.magento2":return t(o);case"katom.app":case"packnwood-demo.wjserver960.com":case"magento.creditkey.com":case"demo.creditkey.com":case"demo.creditkey.tech":return t(r);case"magento2.creditkey.com":default:return t(a)}};function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var u=function(t,e){if(!t)return!1;var n=function(e,n){var i=[c(t)];return n&&(i=i.concat([n])),e&&(i=i.concat([e])),i.join("/")},o={mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json"}};return{post:function(t,e,r){return void 0===r&&(r={}),i(n(t),s({},r,o,{method:"POST",body:JSON.stringify(e)}))},get:function(t,e){return void 0===e&&(e={}),i(n(t),s({},e,o,{method:"GET"}))},edit:function(t,e,r){return void 0===r&&(r={}),i(n(t),s({},r,o,{method:"PUT",body:JSON.stringify(e)}))},delete:function(t,e){return void 0===e&&(e={}),i(n(t),s({},e,o,{method:"DELETE"}))},ping:function(){return i(n(),{method:"GET"})}}};n(1);window.addEventListener("DOMContentLoaded",(function(t){!function(t){t.height=t.contentWindow.document.body.scrollHeight}(document.getElementById("creditkey-iframe"))})),window.addEventListener("message",(function(t){if(!t)return!1;if(t&&!t.data)return!1;var e;try{e=JSON.parse(t.data)}catch(t){e=!1}if(!e||!e.action)return!1;var n,i,o=document.getElementById("ck-modal-card"),r=document.getElementById("creditkey-iframe");if(!r||!o)return!1;if("cancel"===e.action&&"modal"===e.type)null!==(i=document.getElementById("creditkey-modal"))&&(i.style.display="none");else if("complete"==e.action&&"modal"==e.type)n=e.options,navigator.userAgent.match(/Android/i)?document.location=n:window.location.replace(n);else if("height"==e.action&&"modal"==e.type){var a=e.options+14;r.style.height=a.toString()+"px",a+60>window.innerHeight&&(o.parentNode.style.height=(a+60).toString()+"px"),window.scrollTo({top:0,left:0,behavior:"smooth"})}}),!1);var m=function t(e){var n=document.getElementById("creditkey-modal");if(null===n){var i=document.body,o='<iframe scrolling="no" id="creditkey-iframe" src="'+e+'?modal=true" style="height: 100vh;"></iframe>';return function(t){if(!t)return!1;var e=t.split("/")[1];return c("development").split("/")[1]===e||(c("staging").split("/")[1]===e||c("production").split("/")[1]===e)}(e)||(o="An invalid resource was requested"),i.insertAdjacentHTML("beforeend",'<div class="creditkey" id="creditkey-modal"><div class="ck-modal is-active"><div class="ck-modal-background"></div><div class="ck-modal-content" id="ck-modal-card">'+o+"</div></div></div>")}if(document.getElementById("creditkey-iframe").src!==e+"?modal=true")return n.remove(),t(e);n.style.display="flex"},p=function(){function t(t,e,n,i,o){this.data={total:t,shipping:e,tax:n,discount_amount:i,grand_total:o}}var e=t.prototype;return e.validate_charges=function(){return!(this.data.shipping&&!this.is_valid_money_value(this.data.shipping))&&(!(this.data.tax&&!this.is_valid_money_value(this.data.tax))&&(!(this.data.discount_amount&&!this.is_valid_money_value(this.data.discount_amount))&&!(!this.is_valid_money_value(this.data.total)||!this.is_valid_money_value(this.data.grand_total))))},e.is_valid_money_value=function(t){return!isNaN(+t)},t}(),h=function(t,e){void 0===e&&(e=!0);var n="";return e||(n="pointer-events: none;"),'<div className="iframe-container"><iframe allowtransparency="true" scrolling="no" id="creditkey-pdp-iframe" frameBorder="0" style="'+n+'" src="'+t+'"></iframe></div>'};function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}window.addEventListener("message",(function(t){var e;if(!t||!t.data)return!1;try{e=JSON.parse(t.data)}catch(t){return!1}if("pdp"===e.action&&e.options.public_key){var n=new p(e.options.charges?e.options.charges:"0, 0, 0, 0, 0".split(","));new y(e.options.public_key,e.options.platform).enhanced_pdp_modal(n)}else"apply"===e.action&&e.options.public_key&&m(e.options.url)}));var y=function(){function t(t,e){void 0===e&&(e="development"),this.key=t,this.platform=e,this.network=u(e)}var e,n,i,o=t.prototype;return o.begin_checkout=function(t,e,n,i,o,r,a,c,d,l,s){var u=this;return new Promise((function(m,p){return t&&e&&i&&o&&r&&a&&c?Array.isArray(t)?t.filter((function(t){return!t.is_valid_item()})).length>=1?p("one or more cart items are invalid"):"object"!=typeof e?p("billing address should be an Address object"):"object"!=typeof i?p("charges should be a Charges object"):i.validate_charges()?u.network.post("ecomm/begin_checkout"+u.key_param,{cart_items:t.map((function(t){return t.data})),shipping_address:n&&n.data,billing_address:e.data,charges:i.data,remote_id:o,remote_customer_id:r,return_url:a,cancel_url:c,order_complete_url:d,mode:l||"modal",merchant_data:s}).then((function(t){return m(t)})).catch((function(t){return p(t)})):p("charges value is invalid"):p("cart items must be an array of CartItem objects"):p("missing required data")}))},o.is_displayed_in_checkout=function(t){var e=this;return new Promise((function(n,i){return Array.isArray(t)?t.filter((function(t){return!t.is_valid_item()})).length>=1?i("one or more cart items are invalid"):e.network.post("ecomm/is_displayed_in_checkout"+e.key_param,{cart_items:t.map((function(t){return t.data}))}).then((function(t){return t.is_displayed_in_checkout?n(!0):i(!1)})).catch((function(t){return i(t)})):i("cart items must be an array of CartItem objects")}))},o.get_marketing_display=function(t,e,n,i,o){var r=this;return void 0===e&&(e="checkout"),void 0===n&&(n="button"),void 0===i&&(i="medium"),void 0===o&&(o="none"),new Promise((function(e,n){return e(r.get_checkout_display(t))}))},o.enhanced_pdp_modal=function(t,e){if(void 0===e&&(e="pdp"),t&&"object"!=typeof t)return reject("charges should be a charges object");if(!["pdp","cart"].includes(e))return reject('invalid type, allowed types are "pdp", "cart"');var n=l(d,this.platform)+"/pdp/"+this.key+"/"+e+"/"+[t.data.total,t.data.shipping,t.data.tax,t.data.discount_amount,t.data.grand_total].join(",");return m(n)},o.get_apply_now=function(t){void 0===t&&(t="redirect");var e=l(d,this.platform)+"/apply.html?"+this.key+"&type="+t;return h(e)},o.get_checkout_display=function(t){if(t&&"object"!=typeof t)return reject("charges should be a charges object");var e=l(d,this.platform)+"/checkout.html?"+this.key+"&charges="+[t.data.total,t.data.shipping,t.data.tax,t.data.discount_amount,t.data.grand_total].join(",");return h(e,!1)},o.get_pdp_display=function(t){var e=l(d,this.platform)+"/pdp.html?public_key="+this.key+"&charges="+[t.data.total,t.data.shipping,t.data.tax,t.data.discount_amount,t.data.grand_total].join(",");return h(e)},o.get_cart_display=function(t,e,n){void 0===e&&(e="right"),void 0===n&&(n="left");var i=l(d,this.platform)+"/cart.html?public_key="+this.key+"&desktop="+e+"&mobile="+n+"&charges="+[t.data.total,t.data.shipping,t.data.tax,t.data.discount_amount,t.data.grand_total].join(",");return h(i)},o.get_customer=function(t,e){return t&&e?/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+(?:[A-Z]{2}|com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|museum)\b/.test(t)?this.network.post("ecomm/customer"+this.key_param,{email:t,customer_id:e}):Promise.reject("Invalid email address"):Promise.reject("Missing required paramters")},e=t,(n=[{key:"key_param",get:function(){return"?public_key="+this.key}}])&&f(e.prototype,n),i&&f(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=function(){function t(t,e,n,i,o,r,a){this.data={merchant_id:t,name:e,price:n,sku:i,quantity:o,size:r,color:a}}return t.prototype.is_valid_item=function(){return!(!this.data.merchant_id||!this.data.name)},t}(),k=function(){function t(t,e,n,i,o,r,a,c,d,l){this.data={first_name:t,last_name:e,company_name:n,email:i,address1:o,address2:r||"",city:a,state:c,zip:d,phone_number:l||""}}return t.prototype.is_valid_address=function(){for(var t in this.data)if((!this.data[t]||""===this.data[t])&&"address2"!==t)return!1;return!0},t}(),v=function(t){var e;e=t.indexOf("modal")>=0?t.replace("modal","redirect"):t,navigator.userAgent.match(/Android/i)?document.location=e:window.location.href=e},b=(window.screen.availHeight,window.screen.availWidth),x=function(t,e){return void 0===e&&(e="modal"),"modal"===e.toLowerCase()&&b>480?m(t):v(t)},w=(window.screen.availWidth,function(t,e,n){if(void 0===e&&(e="modal"),void 0===n&&(n="production"),!t)throw new Error("API public key required.");return window.scrollTo({top:0,left:0,behavior:"smooth"}),"modal"===e.toLowerCase()?m(c(n)+"/apply/modal/start/"+t):"redirect"===e.toLowerCase()?v(c(n)+"/apply/start/"+t):void 0});e.default={Client:y,CartItem:g,Address:k,Charges:p,apply:w,checkout:x}}]).default}));
//# sourceMappingURL=creditkey-js.min.js.map